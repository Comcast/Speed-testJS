<html>
<body>
  <table>
    <tr>
        <td>
          Select Server:
        </td>
        <td>
          <select id="selectServer"  />
        </td>
    </tr>
  </table>
</body>

<script src="server.js"></script>
<script src="speedtest.js"></script>
<script>
var selectServer = document.getElementById("selectServer");
var testServer;
window.onload = function(e) {
  if (selectServer) {
      for (var i=0; i < servers.length;++i){
          addOption(selectServer, servers[i], servers[i]);
      }
  }
};

/**
* Add option elements to selectbox
@param html select elements
@param string value for option text
@param string value for ooption value
*/
function addOption(selectbox, text, value) {
    var optn = document.createElement("OPTION");
    optn.text = text;
    optn.value = value;
    selectbox.options.add(optn);
}

/**
* onchange event for html select element
*/
selectServer.onchange = function(){
    var selectedServer = selectServer.options[selectServer.selectedIndex].value;
/*
    testServer = serversInfo.filter(function(server) {
      console.log(server.name + ' ' + selectedServer + ' ' + server.name === selectedServer);
    return server.name === selectedServer; // if truthy then keep item
  }).map(function(server) {
          return { // return what new object will look like
              IPv4Address: server.IPv4Address,
              IPv6Address: server.IPv6Address,
              hostname: server.hostname
          };
      });
      */
      var i = 0;
      for (i; i < serversInfo.length;++i){
          if(serversInfo[i].name === selectedServer){
            testServer = serversInfo[i];
          }
      }
}

</script>
</html>
